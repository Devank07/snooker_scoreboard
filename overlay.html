<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snooker Overlay</title>
<link rel="stylesheet" href="scoreboard.css">
</head>
<body>
<div class="player player1">
  <img src="" id="logo1" class="logo">
  <div class="name" id="name1">Player A</div>
  <div class="score" id="score1">0</div>
  <div class="break" id="break1">Break: 0</div>
  <div class="frames" id="frames1">Frames: 0</div>
  <div class="fouls" id="fouls1">Fouls: 0</div>
</div>

<div class="player player2">
  <img src="" id="logo2" class="logo">
  <div class="name" id="name2">Player B</div>
  <div class="score" id="score2">0</div>
  <div class="break" id="break2">Break: 0</div>
  <div class="frames" id="frames2">Frames: 0</div>
  <div class="fouls" id="fouls2">Fouls: 0</div>
</div>

<script>
async function fetchData() {
  const resp = await fetch("data.json?nocache="+Date.now());
  return await resp.json();
}

async function refresh() {
  const d = await fetchData();
  document.getElementById("name1").textContent = d.player1;
  document.getElementById("name2").textContent = d.player2;
  document.getElementById("score1").textContent = d.score1;
  document.getElementById("score2").textContent = d.score2;
  document.getElementById("break1").textContent = "Break: " + d.break1;
  document.getElementById("break2").textContent = "Break: " + d.break2;
  document.getElementById("frames1").textContent = "Frames: " + d.frames1;
  document.getElementById("frames2").textContent = "Frames: " + d.frames2;
  document.getElementById("fouls1").textContent = "Fouls: " + d.fouls1;
  document.getElementById("fouls2").textContent = "Fouls: " + d.fouls2;
  document.getElementById("logo1").src = d.logo1 || "";
  document.getElementById("logo2").src = d.logo2 || "";
  requestAnimationFrame(refresh);
}
refresh();
</script>
</body>
</html>

